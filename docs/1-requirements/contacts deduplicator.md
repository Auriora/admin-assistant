# AI-Assisted Contact Deduplication & Quality Pipeline                                                                                                                                                                                   
                                                                                                                                                                                                                                      
## Purpose                                                                                                                                                                                                                               
                                                                                                                                                                                                                                      
Develop a script (and workflow) to automatically detect and help resolve duplicate contacts, enforce minimum contact data standards, and produce consistent display names. Leverage both algorithmic/fuzzy matching and AI-powered       
analysis for ambiguous cases.                                                                                                                                                                                                            
                                                                                                                                                                                                                                      
---                                                                                                                                                                                                                                      
                                                                                                                                                                                                                                      
## 1. Data Acquisition & Preparation                                                                                                                                                                                                     
                                                                                                                                                                                                                                      
- **Fetch contacts**:                                                                                                                                                                                                                    
  - Retrieve all contacts via Microsoft Graph API, using paging/batching for scalability.                                                                                                                                                
- **Normalize fields**:                                                                                                                                                                                                                  
  - Trim whitespace, lowercase emails, unify phone numbers (E.164/preferred format), strip odd chars from names.                                                                                                                         
                                                                                                                                                                                                                                      
---                                                                                                                                                                                                                                      
                                                                                                                                                                                                                                      
## 2. Field Validation                                                                                                                                                                                                                   
                                                                                                                                                                                                                                      
- **Required fields**:                                                                                                                                                                                                                   
  - Each contact should have:                                                                                                                                                                                                            
    - At least one of: Display Name, Email, or Phone (preferably all three).                                                                                                                                                             
- **Format checks**:                                                                                                                                                                                                                     
  - Emails must match standard regex (valid RFC-5322).                                                                                                                                                                                   
  - Phone numbers converted to E.164 or consistent international format.                                                                                                                                                                 
  - Display names: title case, stripped of junk symbols or stray whitespace.                                                                                                                                                             
- **Flag** contacts missing required fields for review.                                                                                                                                                                                  
                                                                                                                                                                                                                                      
---                                                                                                                                                                                                                                      
                                                                                                                                                                                                                                      
## 3. Algorithmic Duplicate Detection                                                                                                                                                                                                    
                                                                                                                                                                                                                                      
- **Exact match hashing**:                                                                                                                                                                                                               
- Group by:                                                                                                                                                                                                                            
  - Normalized display name (case-folded)                                                                                                                                                                                              
  - Primary email (lowercased)                                                                                                                                                                                                         
  - Phone numbers (formatted)                                                                                                                                                                                                          
  - “Combo keys” (e.g., display name + email)                                                                                                                                                                                          
- **Fuzzy match**:                                                                                                                                                                                                                       
  - Use Levenshtein/Jaro-Winkler distance for similar names/emails/phones.                                                                                                                                                               
  - Group contacts with high similarity for further review.                                                                                                                                                                              
- **Create clusters**:                                                                                                                                                                                                                   
  - For each group/cluster, note the reason for potential duplication (e.g., “Same email & similar name”).                                                                                                                               
                                                                                                                                                                                                                                      
---                                                                                                                                                                                                                                      
                                                                                                                                                                                                                                      
## 4. AI-Powered Deduplication & Resolution                                                                                                                                                                                              
                                                                                                                                                                                                                                      
- **Prepare data for AI**:                                                                                                                                                                                                               
  - For each cluster, create a context-minimized table or JSON of only the relevant fields (display name, emails, phones, company, notes).                                                                                               
  - Example format:                                                                                                                                                                                                                      
```                                                                                                                                                                                                                                  
[                                                                                                                                                                                                                                    
  {"displayName": "Jane Doe", "email": "jane@foo.com", "phone": "+35312345678"},                                                                                                                                                     
  {"displayName": "J. Doe", "email": "jane@foo.com", "phone": "+353 1234 5678"}                                                                                                                                                      
]                                                                                                                                                                                                                                    
```                                                                                                                                                                                                                                  
- **Prompt template for AI:**                                                                                                                                                                                                            
                                                                                                                                                                                                                                      

```
For the following contacts, determine which are the same person (merge), which fields/values to keep as canonical, and suggest corrections for inconsistent or missing information. Flag anything suspicious (possible spam/test/incorrect
format). Contact entries: {contact_data_chunk}
```                                                                                                                                                                                         

                                                                                                                                                                                                                                      
- **Workflow:**                                                                                                                                                                                                                          
- Send each cluster to the AI for resolution.                                                                                                                                                                                            
- Parse AI output for suggested merges, corrections, and canonical entries.                                                                                                                                                              
- Automatically apply high-confidence merges, flag ambiguous ones for human review.                                                                                                                                                      
                                                                                                                                                                                                                                      
---                                                                                                                                                                                                                                      
                                                                                                                                                                                                                                      
## 5. Display Name Consistency & Enforcement                                                                                                                                                                                             
                                                                                                                                                                                                                                      
- **Standardize display names**:                                                                                                                                                                                                         
  - Apply title case and standard order (e.g., “Given Surname”).                                                                                                                                                                           
  - Enforce a pattern for organizational/corporate entries if needed (e.g., “Contact Name [Company]”).                                                                                                                                     
- **Flag non-standard names** for review.                                                                                                                                                                                                
                                                                                                                                                                                                                                      
---                                                                                                                                                                                                                                      
                                                                                                                                                                                                                                      
## 6. Reporting & Logging                                                                                                                                                                                                                
                                                                                                                                                                                                                                      
- **Reports should include**:                                                                                                                                                                                                            
  - List of detected exact duplicates (with key fields and count).                                                                                                                                                                         
  - Fuzzy/AI-flagged likely duplicates (with similarity/confidence scores).                                                                                                                                                                
  - All contacts missing required info (fields and reason).                                                                                                                                                                                
  - Summary table of merges/applied corrections and ambiguous cases needing review.                                                                                                                                                        
- **Log all changes and AI recommendations** for transparency, error recovery, and downstream retraining.                                                                                                                                

---                                                                                                                                                                                                                                      
                                                                                                                                                                                                                                      
## 7. Implementation Outline (Pseudocode)                                                                                                                                                                                                
                                                                                                                                                                                                                                      
```
contacts = fetch_all_contacts_via_api() contacts = normalize_contacts(contacts) validated, missing = validate_format_and_completeness(contacts) exact_dupes, fuzzy_dupes, clusters = detect_duplicates_contacts(contacts) for cluster in  
clusters: ai_input = format_cluster_for_ai(cluster) ai_result = send_to_ai(ai_input, prompt_template) process_ai_result(ai_result)                                                                                                        

enforce_display_name_style(contacts) final_report = create_dedupe_and_quality_report(contacts, clusters, missing, ai_results) output_report(final_report)                                                                                 

```                                                                                                                                                                                                                                          

---
                                                                                                                                                                                                                                          
## 8. Justification for AI-Assistance                                                                                                                                                                                                    
                                                                                                                                                                                                                                  
- Traditional logic can catch *exact* duplicates and many fuzzy ones, but:                                                                                                                                                               
  - AI can resolve ambiguous (nicknames, initials, typo, missing surname) cases using full context.                                                                                                                                    
  - AI can suggest canonical formats, fix field inconsistencies, and flag probable corporate/group or transactional/spam entries.                                                                                                      
  - AI can provide a trusted “merge & correct” suggestion list for rapid human review.                                                                                                                                                 
                                                                                                                                                                                                                                  
---                                                                                                                                                                                                                                      
                                                                                                                                                                                                                                  
## 9. Next Steps                                                                                                                                                                                                                         
                                                                                                                                                                                                                                  
1. Implement base script for data acquisition, normalization, fast hash/grouping.                                                                                                                                                        
2. Integrate fuzzy search for ~duplicate detection.                                                                                                                                                                                      
3. Build chunking/formatting logic for ambiguous clusters.                                                                                                                                                                               
4. Create prompt and API pipeline for LLM (OpenAI, Azure, etc.) resolutions.                                                                                                                                                             
5. Log/report, then iterate/extend with feedback and real data.                                                                                                                                                                          
                                                                                                                                                                                                                                  
---                                                                                                                                                                                                                                      
                                                                                                                                                                                                                                  
## 10. Future Extensions                                                                                                                                                                                                                 
                                                                                                                                                                                                                                  
- Feedback loop: collect user corrections to train/finetune future AI inferences.                                                                                                                                                        
- Batch-processing UI for rapid human review and acceptance of merge suggestions.                                                                                                                                                        
- Integration with organizational directory/HRIS for even stricter quality gating.                                                                                                                                                       
                                                                                                                                                                                                                                  
---                                                                                                                                                                                                                                      
                                                                                                                                                                                                                                  
*Edit, extend, or restructure as your workflow and the volume of contacts/data demand!* 